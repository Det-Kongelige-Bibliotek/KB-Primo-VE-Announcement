!function r(s,a,c){function u(n,e){if(!a[n]){if(!s[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(m)return m(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var i=a[n]={exports:{}};s[n][0].call(i.exports,function(e){return u(s[n][1][e]||e)},i,i.exports,r,s,a,c)}return a[n].exports}for(var m="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}}();(t.AnnouncementService=function(){function r(e,n,t,o){var i=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.$translate=e,this.$mdToast=n,this.$rootScope=t,this.$cookies=o,this._dismissed=!1,this.$rootScope.$on("$translateChangeSuccess",function(){i._dismissed=!1})}return o(r,[{key:"_dismiss",value:function(){this._dismissed=!0,this._toastPromise=null}},{key:"display",value:function(o){var i=this;return new Promise(function(n,t){!0!==i._dismissed?i.$translate("nui.message.announcement").then(function(e){if(i.$cookies.get("announcement")!==e){if(!e||["announcement","&nbsp;",""].includes(e))return i._toastPromise&&!i._dismissed&&i.$mdToast.hide(),void t("No announcement found.");i._toastPromise=i._toastPromise||i.$mdToast.show({hideDelay:!1,position:"top",controller:function(){return{close:function(){i.$mdToast.hide(),i.$translate("nui.message.announcement").then(function(e){return i.$cookies.put("announcement",e)})}}},controllerAs:"$ctrl",template:'<md-toast class="sticky kb-announcement org-11bfca9f-f278-4d0e-8384-2a2d064e8f6c page-notification" style="position: sticky !important;top: 0;">\n    <div class="md-toast-content" style="box-shadow:none; width: 100%;">\n        <span class=\'md-toast-text\' flex translate=\'nui.message.announcement\'>\n  </span>\n    </div>\n    <a class="close" ng-click=\'$ctrl.close()\' aria-label="{{\'nui.message.dismiss\' | translate}}" style="position: absolute; right: 1.5rem; top: 1.5rem;">\n            <prm-icon icon-type="svg" svg-icon-set="primo-ui" icon-definition="close">\x3c!----\x3e<md-icon ng-if="!$ctrl.isCustom" md-svg-icon="primo-ui:close" alt="" class="md-primoExplore-theme" aria-hidden="true"><svg id="close_cache22" width="100%" height="100%" viewBox="0 0 24 24" y="240" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false">\n        <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"></path>\n    </svg></md-icon>\x3c!----\x3e\x3c!----\x3e<prm-icon-after parent-ctrl="$ctrl"></prm-icon-after></prm-icon>\n    </a>\n</md-toast>'}),i._toastPromise.then(o).catch(o).then(function(){return i._dismiss()}),n()}else t("The announcement has been dismissed before.")}):t("The announcement has been dismissed.")})}}]),r}()).$inject=["$translate","$mdToast","$rootScope","$cookies"]},{}],2:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}}();var i=function(){function i(e,n,t,o){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),this.announcementService=e,this.$scope=n,this.$element=t,this.$translate=o}return o(i,[{key:"$onInit",value:function(){this.announcementService.display().catch(function(e){e&&console.log(e)})}}]),i}();i.$inject=["announcementService","$scope","$element","$translate"];t.PrmTopbarAfterConfig={name:"prmTopbarAfter",config:{controller:i,require:{primoExploreCtrl:"^primoExplore"}}}},{}],3:[function(e,n,t){"use strict";var o=e("./announcement/announcement.service"),i=e("./announcement/prmTopbarAfter.component");angular.module("viewCustom",["angularLoad"]),angular.module("viewCustom").service("announcementService",o.AnnouncementService).component(i.PrmTopbarAfterConfig.name,i.PrmTopbarAfterConfig.config)},{"./announcement/announcement.service":1,"./announcement/prmTopbarAfter.component":2}]},{},[3]);
